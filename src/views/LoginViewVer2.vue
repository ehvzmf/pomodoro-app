<template>
  <div class="login-page">
    <AppHeader :transparent="true" />
    
    <main class="login-main">
      <div class="login-content">
        <!-- ì™¼ìª½ ì˜ì—­: í¬íƒˆ ì •ë³´ -->
        <div class="portal-info">
          <div class="portal-text">
            <h2>ì•ˆì „í•œ ì¸ì¦ ì‹œìŠ¤í…œ</h2>
            <p class="portal-description">
              ìµœì‹  ë³´ì•ˆ ê¸°ìˆ ë¡œ ë³´í˜¸ë˜ëŠ”<br />
              ì•ˆì‹¬í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ì…ë‹ˆë‹¤.
            </p>
            <ul class="portal-features">
              <li>âœ“ 2ë‹¨ê³„ ì¸ì¦ ì§€ì›</li>
              <li>âœ“ ìƒì²´ ì¸ì¦ ì—°ë™</li>
              <li>âœ“ ì‹¤ì‹œê°„ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§</li>
              <li>âœ“ ê°„í¸í•œ ê³„ì • ê´€ë¦¬</li>
            </ul>
          </div>
        </div>

        <!-- ì˜¤ë¥¸ìª½ ì˜ì—­: ê°„í¸ ë¡œê·¸ì¸ í¼ -->
        <div class="login-form-container">
          <h3 class="form-title">ë¡œê·¸ì¸</h3>
          
          <!-- ê°„í¸ ë¡œê·¸ì¸ ë²„íŠ¼ -->
          <div class="quick-login-buttons">
            <div class="quick-login-wrapper">
              <div class="tooltip">ê°„í¸í•œ ë¡œê·¸ì¸ì„ ì´ìš©í•˜ì„¸ìš”!</div>
              <BaseButton
                variant="outline"
                class="quick-login-btn quick-login-btn--active"
                @click="handleQuickLogin('easy')"
              >
                <span class="btn-icon">ğŸ”</span>
                ê°„í¸ì¸ì¦ ë¡œê·¸ì¸
              </BaseButton>
            </div>
            <BaseButton
              variant="outline"
              class="quick-login-btn"
              @click="handleQuickLogin('sms')"
            >
              <span class="btn-icon">ğŸ“±</span>
              SMS ë¡œê·¸ì¸
            </BaseButton>
          </div>

          <div class="divider">
            <span>ë˜ëŠ”</span>
          </div>

          <!-- ê°„í¸ì¸ì¦ ë¡œê·¸ì¸ ë²„íŠ¼ -->
          <div class="easy-auth-wrapper">
            <div class="easy-auth-tooltip">ê°„í¸í•œ ë¡œê·¸ì¸ì„ ì´ìš©í•˜ì„¸ìš”!</div>
            <BaseButton
              type="button"
              variant="primary"
              size="lg"
              class="easy-auth-button"
              @click="handleQuickLogin('easy')"
            >
              <span class="btn-icon">ğŸ”</span>
              ê°„í¸ì¸ì¦ ë¡œê·¸ì¸
            </BaseButton>
          </div>

          <!-- ì•ˆë‚´ ë¬¸êµ¬ -->
          <p class="info-text">
            â„¹ï¸ ê°„í¸ì¸ì¦ìœ¼ë¡œ ë¹ ë¥´ê³  ì•ˆì „í•˜ê²Œ ë¡œê·¸ì¸í•˜ì„¸ìš”.
          </p>

          <!-- í•˜ë‹¨ ë§í¬ -->
          <div class="form-footer">
            <div class="footer-links">
              <a href="#" @click.prevent="handleFindId">ì•„ì´ë”” ì°¾ê¸°</a>
              <span class="link-divider">|</span>
              <a href="#" @click.prevent="handleFindPassword">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a>
            </div>
            <BaseButton
              variant="ghost"
              class="signup-btn"
              @click="handleSignup"
            >
              íšŒì›ê°€ì…
              <span class="arrow-icon">â†’</span>
            </BaseButton>
          </div>
        </div>
      </div>
    </main>

    <!-- í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ -->
    <div class="bottom-actions">
      <div class="action-buttons">
        <BaseButton variant="ghost" class="action-btn">ê³ ê°ì„¼í„°</BaseButton>
        <BaseButton variant="ghost" class="action-btn">ê³µì§€ì‚¬í•­</BaseButton>
        <BaseButton variant="ghost" class="action-btn">ì„œë¹„ìŠ¤ ì†Œê°œ</BaseButton>
      </div>

      <div class="manual-box">
        <div class="manual-row">
          <BaseButton variant="outline" size="sm" class="manual-btn">ì´ìš© ë§¤ë‰´ì–¼</BaseButton>
          <BaseButton variant="outline" size="sm" class="manual-btn">ì„¤ì¹˜ ê°€ì´ë“œ</BaseButton>
          <BaseButton variant="outline" size="sm" class="manual-btn">FAQ</BaseButton>
        </div>
        <div class="manual-row">
          <a href="#" class="popup-link">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
          <span class="divider-text">|</span>
          <a href="#" class="popup-link">ì´ìš©ì•½ê´€</a>
          <span class="divider-text">|</span>
          <a href="#" class="popup-link">ë³´ì•ˆì •ì±…</a>
        </div>
      </div>
    </div>
    
    <AppFooter :transparent="true" />
  </div>
</template>

<script setup>
import { ref, onMounted, onUnmounted } from 'vue'
import AppHeader from '@/components/layout/AppHeader.vue'
import AppFooter from '@/components/layout/AppFooter.vue'
import BaseButton from '@/components/publishing/BaseButton.vue'

const handleQuickLogin = (type) => {
  console.log(`${type} ê°„í¸ ë¡œê·¸ì¸`)
  alert(`${type === 'easy' ? 'ê°„í¸ì¸ì¦' : 'SMS'} ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.`)
}

const handleFindId = () => {
  console.log('ì•„ì´ë”” ì°¾ê¸°')
}

const handleFindPassword = () => {
  console.log('ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°')
}

const handleSignup = () => {
  console.log('íšŒì›ê°€ì…')
}

// ìŠ¤í¬ë¡¤ ì‹œ í—¤ë” ë°°ê²½ ë³€ê²½
const handleScroll = () => {
  const header = document.querySelector('.app-header')
  if (!header) return
  
  // ì´ë¯¸ì§€ ì˜ì—­ ë†’ì´(180px)ë¥¼ ì§€ë‚˜ë©´ í—¤ë” ë°°ê²½ í°ìƒ‰
  if (window.scrollY > 180) {
    header.style.background = '#ffffff'
    header.style.borderBottom = '1px solid #e5e7eb'
  } else {
    header.style.background = 'transparent'
    header.style.borderBottom = 'none'
  }
}

onMounted(() => {
  window.addEventListener('scroll', handleScroll)
})

onUnmounted(() => {
  window.removeEventListener('scroll', handleScroll)
})
</script>

<style lang="scss" scoped>
@use '@/assets/styles/mixins' as *;

.login-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: $white;

  @include mobile {
    padding-top: 0;
    background: $white;
  }
}

.login-main {
  flex: 1;
  padding: $spacing-lg 40px;
  background: $white;

  @include mobile {
    padding: 0;
    padding-top: 180px; // ì´ë¯¸ì§€ ì˜ì—­ ë†’ì´ë§Œí¼
    background: $white;
  }
}

.login-content {
  display: grid;
  grid-template-columns: 1.2fr 0.8fr;
  gap: $spacing-xl;
  align-items: center;
  min-height: 40vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: $radius-lg;
  padding: $spacing-2xl;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);

  @include mobile {
    grid-template-columns: 1fr;
    gap: 0;
    min-height: auto;
    padding: 0;
    border-radius: 0;
    background: transparent;
    box-shadow: none;
  }
}

/* ì™¼ìª½ í¬íƒˆ ì •ë³´ */
.portal-info {
  display: flex;
  flex-direction: column;
  gap: $spacing-lg;
  color: $white;

  @include mobile {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 180px;
    padding: $spacing-md 20px;
    padding-top: 60px; // í—¤ë” ë†’ì´ë§Œí¼ ë¡œê³  ì•„ë˜ ê³µê°„ í™•ë³´
    z-index: 1;
    // ë°°ê²½ ì´ë¯¸ì§€ ì˜ì—­ - ì´ë¯¸ì§€ ê²½ë¡œë§Œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤
    // background-image: url('@/assets/images/login-bg.jpg');
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
}

.portal-text {
  h2 {
    font-size: $font-size-2xl;
    font-weight: 700;
    color: $white;
    margin-bottom: $spacing-md;

    @include desktop {
      font-size: 2rem;
    }

    @include mobile {
      font-size: $font-size-lg;
      margin-bottom: $spacing-xs;
    }
  }

  .portal-description {
    font-size: $font-size-base;
    color: rgba(255, 255, 255, 0.95);
    line-height: 1.6;
    margin-bottom: $spacing-lg;

    @include mobile {
      font-size: $font-size-sm;
      margin-bottom: 0;
    }
  }
}

.portal-features {
  list-style: none;
  padding: 0;
  margin: 0;

  li {
    font-size: $font-size-base;
    color: rgba(255, 255, 255, 0.95);
    padding: $spacing-sm 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);

    &:last-child {
      border-bottom: none;
    }
  }

  @include mobile {
    display: none;
  }
}

/* ì˜¤ë¥¸ìª½ ê°„í¸ ë¡œê·¸ì¸ í¼ */
.login-form-container {
  background: $white;
  border-radius: $radius-lg;
  padding: $spacing-xl $spacing-lg;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
  border: 1px solid $gray-200;
  max-width: 380px;

  @include mobile {
    padding: $spacing-xl $spacing-lg;
    max-width: 100%;
    border-radius: 0;
    border: none;
    box-shadow: none;
    margin: 0;
  }
}

.form-title {
  font-size: $font-size-lg;
  font-weight: 700;
  color: $gray-800;
  margin: 0 0 $spacing-md 0;
  text-align: center;
}

.quick-login-buttons {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: $spacing-xs;
  margin-bottom: $spacing-md;
}

.quick-login-wrapper {
  position: relative;
}

.tooltip {
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  background: $primary-color;
  color: $white;
  padding: $spacing-xs $spacing-sm;
  border-radius: $radius-sm;
  font-size: $font-size-xs;
  white-space: nowrap;
  box-shadow: $shadow-md;
  z-index: 10;

  &::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-top: 4px solid $primary-color;
  }
}

.quick-login-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: $spacing-xs;
  font-size: $font-size-sm;
  padding: $spacing-sm;

  .btn-icon {
    font-size: $font-size-base;
  }

  &--active {
    background: rgba($primary-color, 0.1);
    border-color: $primary-color;
    color: $primary-color;
  }
}

.divider {
  position: relative;
  text-align: center;
  margin: $spacing-md 0;

  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: $gray-200;
  }

  span {
    position: relative;
    display: inline-block;
    padding: 0 $spacing-sm;
    background: $white;
    color: $gray-500;
    font-size: $font-size-xs;
  }
}

.info-text {
  font-size: $font-size-xs;
  color: $gray-600;
  margin: 0 0 $spacing-md 0;
  padding: $spacing-xs;
  background: $gray-50;
  border-radius: $radius-sm;

  &--highlight {
    background: rgba($primary-color, 0.1);
    color: $primary-color;
    border-left: 3px solid $primary-color;
  }
}

.form-footer {
  margin-top: $spacing-md;
  padding-top: $spacing-md;
  border-top: 1px solid $gray-200;
  display: flex;
  justify-content: space-between;
  align-items: center;

  @include mobile {
    flex-direction: column;
    gap: $spacing-sm;
    align-items: stretch;
  }
}

.footer-links {
  display: flex;
  gap: $spacing-xs;
  align-items: center;

  a {
    font-size: $font-size-xs;
    color: $gray-600;
    text-decoration: none;
    transition: color 0.2s;

    &:hover {
      color: $primary-color;
    }
  }

  .link-divider {
    color: $gray-400;
    font-size: $font-size-xs;
  }
}

.signup-btn {
  display: flex;
  align-items: center;
  gap: $spacing-xs;
  padding: $spacing-xs $spacing-md;
  color: $primary-color;
  font-weight: 600;
  font-size: $font-size-xs;

  .arrow-icon {
    transition: transform 0.2s;
  }

  &:hover .arrow-icon {
    transform: translateX(4px);
  }
}

.form-title {
  font-size: $font-size-lg;
  font-weight: 700;
  color: $gray-800;
  margin: 0 0 $spacing-md 0;
  text-align: center;
}

.quick-login-buttons {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: $spacing-xs;
  margin-bottom: $spacing-md;

  @include mobile {
    grid-template-columns: 1fr 1fr;
  }
}

.quick-login-wrapper {
  position: relative;
}

.tooltip {
  display: none;
}

.quick-login-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: $spacing-xs;
  font-size: $font-size-sm;
  padding: $spacing-sm;

  .btn-icon {
    font-size: $font-size-base;
  }

  &--active {
    background: rgba($primary-color, 0.1);
    border-color: $primary-color;
    color: $primary-color;
  }
}

.divider {
  position: relative;
  text-align: center;
  margin: $spacing-md 0;

  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: $gray-200;
  }

  span {
    position: relative;
    display: inline-block;
    padding: 0 $spacing-sm;
    background: $white;
    color: $gray-500;
    font-size: $font-size-xs;
  }
}

.easy-auth-wrapper {
  position: relative;
  margin-bottom: $spacing-md;
}

.easy-auth-tooltip {
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  background: $white;
  color: $primary-color;
  border: 2px solid $primary-color;
  border-radius: $radius-lg;
  padding: $spacing-xs $spacing-md;
  font-size: $font-size-xs;
  font-weight: 600;
  white-space: nowrap;
  box-shadow: 0 2px 8px rgba(239, 68, 68, 0.15);
  z-index: 10;

  &::after {
    content: '';
    position: absolute;
    bottom: -9px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 9px solid transparent;
    border-right: 9px solid transparent;
    border-top: 9px solid $primary-color;
  }

  &::before {
    content: '';
    position: absolute;
    bottom: -6px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
    border-top: 7px solid $white;
    z-index: 1;
  }
}

.easy-auth-button {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: $spacing-sm;

  .btn-icon {
    font-size: $font-size-lg;
  }
}

.info-text {
  font-size: $font-size-xs;
  color: $gray-600;
  margin: 0 0 $spacing-md 0;
  padding: $spacing-xs;
  background: $gray-50;
  border-radius: $radius-sm;
}

.form-footer {
  margin-top: $spacing-md;
  padding-top: $spacing-md;
  border-top: 1px solid $gray-200;
  display: flex;
  justify-content: space-between;
  align-items: center;

  @include mobile {
    flex-direction: column;
    gap: $spacing-sm;
    align-items: stretch;
  }
}

.footer-links {
  display: flex;
  gap: $spacing-xs;
  align-items: center;

  a {
    font-size: $font-size-xs;
    color: $gray-600;
    text-decoration: none;
    transition: color 0.2s;

    &:hover {
      color: $primary-color;
    }
  }

  .link-divider {
    color: $gray-400;
    font-size: $font-size-xs;
  }
}

.signup-btn {
  display: flex;
  align-items: center;
  gap: $spacing-xs;
  padding: $spacing-xs $spacing-md;
  color: $primary-color;
  font-weight: 600;
  font-size: $font-size-xs;

  .arrow-icon {
    transition: transform 0.2s;
  }

  &:hover .arrow-icon {
    transform: translateX(4px);
  }
}

/* í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ */
.bottom-actions {
  padding: $spacing-xl 40px $spacing-lg;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: $spacing-xl;
  background: $white; // í•˜ë‹¨ì€ í°ìƒ‰ ë°°ê²½

  @include mobile {
    flex-direction: column;
    padding: $spacing-lg 20px;
    gap: $spacing-lg;
    background: $white; // ëª¨ë°”ì¼ì—ì„œë„ í°ìƒ‰ ë°°ê²½
  }
}

.action-buttons {
  display: flex;
  gap: $spacing-md;

  @include mobile {
    flex-wrap: wrap;
    gap: $spacing-sm;
  }
}

.action-btn {
  color: $gray-700;
  font-size: $font-size-sm;
  padding: $spacing-sm $spacing-md;

  &:hover {
    background: $gray-50;
  }
}

.manual-box {
  padding: $spacing-md $spacing-lg;
  background: $gray-50;
  border-radius: $radius-md;
  border: 1px solid $gray-200;
  display: flex;
  flex-direction: column;
  gap: $spacing-sm;

  @include mobile {
    width: 100%;
  }
}

.manual-row {
  display: flex;
  align-items: center;
  gap: $spacing-sm;
  flex-wrap: wrap;

  &:first-child {
    padding-bottom: $spacing-sm;
    border-bottom: 1px solid $gray-300;
  }
}

.manual-btn {
  font-size: $font-size-xs;
  padding: $spacing-xs $spacing-sm;
  white-space: nowrap;
}

.popup-link {
  font-size: $font-size-xs;
  color: $gray-600;
  text-decoration: none;
  transition: color 0.2s;

  &:hover {
    color: $primary-color;
  }
}

.divider-text {
  color: $gray-400;
  font-size: $font-size-xs;
}
</style>
